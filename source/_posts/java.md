---
title: java
tags: java
categories: Java
description: Java碎碎念
abbrlink: 36523
date: 2021-07-24 19:29:37
top_img:
---

## Java关键字static理解

静态内部类和非静态内部类区别：是否持有外部类的状态，静态内部类持有外部类的实例

## Java关键字final理解

* final修饰类，该类不能被继承，且该类中所有方法都被隐式指定为final方法
* final修饰的方法不能被重写
  一个类的private方法被隐式指定为final方法
* final修饰成员变量，必须要赋初始值，且只能初始化一次
  * 如果修饰的是基本类型，则变量值不能改变
  * 如果修饰的是引用类型，则引用的地址值不能更改，但这个引用所指的对象的内容可以改变

## 抽象类和接口

### 接口

接口设计的目的，是对类行为的约束（更准确的说是一种“有”约束，因为接口不能规定类不可以有什么行为），也就是提供一种机制，可以强制不同的类有相同的行为。它只约束了行为的有无，但不对如何实现行为进行限制。

- 直观理解就是一种约定
- 不能有状态
- 必须由类进行实现后使用

### 抽象类

抽象类的设计目的，是代码复用。当不同的类具有相同的行为（记为行为集合A），且其中一部分行为的实现方式一样时（A的非真子集，记为B），可以让这些类都派生于一个抽象类。在这个抽象类中实现了B，避免让所有的子类都实现B，这就达到了代码复用的目的。而A减B的部分，留给各个子类自己实现，正是因为A-B在这里没有实现，所以抽象类不允许实例化出来（否则当调用A-B时，无法执行）。

- 实现了一部分协议的半成品
- 可以有状态，可以有方法实现
- 必须由子类继承后使用

### 共性

- 比较抽象，不能直接实例化
- 有需要子类（实现类）实现的方法
- 父类（接口）变量可以接收子类（实现类）的实例赋值

### 区别
抽象类是对类本质的抽象，表达的是is a的关系，比如：BMW is a Car，抽象类包含并实现子类的通用特性，将子类存在差异化的特性进行抽象，交由子类去实现。

接口是对行为的抽象，表达的是like a的关系，比如：Bird like a Aircraft（像飞行器一样可以飞），但其本质上is a Bird。接口的核心是定义行为，即实现类可以做什么，至于实现类主体是谁、是如何实现的，接口并不关心。

使用场景：当你关注一个事物本质的时候，用抽象类；当你关注一个操作的时候，用接口。

抽象类的功能要远超过接口，但是，定义抽象类的代价高。因为高级语言来说（从实际设计上来说也是）每个类只能继承一个类。在这个类中，你必须继承或编写出其所有子类的所有共性，虽然接口在功能上会弱化许多，但是它只是针对一个动作的描述。而且你可以在一个类中同时实现多个接口，在设计阶段会降低难度。

- 抽象类有状态，接口不能有状态
- 抽象类有方法实现，接口只能有无状态的默认实现
  抽象类可以有普通成员函数，接口中只能存在public abstract方法
  抽象类中的成员变量可以是各种类型的，接口中成员变量只能是public static final类型的
- 抽象类只能单继承，接口可以多实现
- 抽象类反应本质，接口体现能力
